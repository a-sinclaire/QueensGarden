<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Queen's Garden</title>
    <!-- Cache-busting: auto-updated by update-cache-bust.sh script -->
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/game-board.css">
    <link rel="stylesheet" href="css/cards.css">
    <link rel="stylesheet" href="css/ui.css">
    <link rel="stylesheet" href="css/mobile-hud.css">
</head>
<body>
    <div id="game-container">
        <header>
            <div class="header-content">
                <h1>Queen's Garden</h1>
                <div class="header-actions">
                    <span class="version">v<span id="version-number">1.0.0</span></span>
                    <button id="help-btn" class="help-btn" title="Help & Information">?</button>
                </div>
            </div>
        </header>
        
        <!-- Help Modal -->
        <div id="help-modal" class="modal" style="display: none;">
            <div class="modal-content">
                <div class="modal-header">
                    <h2>Help & Information</h2>
                    <button class="modal-close" id="help-modal-close">&times;</button>
                </div>
                <div class="modal-body">
                    <div class="help-tabs">
                        <button class="tab-btn active" data-tab="controls">Controls</button>
                        <button class="tab-btn" data-tab="rules">Rules</button>
                        <button class="tab-btn" data-tab="credits">Credits</button>
                    </div>
                    <div class="tab-content">
                        <div id="tab-controls" class="tab-pane active"></div>
                        <div id="tab-rules" class="tab-pane"></div>
                        <div id="tab-credits" class="tab-pane"></div>
                    </div>
                </div>
            </div>
        </div>
        
        <div id="game-setup" class="setup-screen">
            <h2>Choose Your Queen</h2>
            <div class="queen-selection">
                <button class="queen-btn" data-suit="hearts">Queen of Hearts ‚ô•</button>
                <button class="queen-btn" data-suit="diamonds">Queen of Diamonds ‚ô¶</button>
                <button class="queen-btn" data-suit="clubs">Queen of Clubs ‚ô£</button>
                <button class="queen-btn" data-suit="spades">Queen of Spades ‚ô†</button>
            </div>
        </div>
        
        <div id="game-play" class="game-screen" style="display: none;">
            <div class="game-layout">
                <aside class="sidebar">
                    <div class="info-panel">
                        <div id="turn-display" data-tooltip="Current turn number">Turn: 0</div>
                        <div id="health-display" data-tooltip="Your health. If it reaches 0, you lose!">Health: 20/20</div>
                        <div id="deck-size" data-tooltip="Remaining cards in the deck">Deck: 0</div>
                        <div id="destroy-mode" style="display: none; margin-top: 0.5rem; padding: 0.5rem; background-color: var(--health-color); border-radius: 4px;">
                            <strong>Destroy Mode Active</strong><br>
                            <small>Click adjacent tiles to destroy (Press X to cancel)</small>
                        </div>
                    </div>
                    
                    <div class="party-panel">
                        <h3 data-tooltip="Queens in your party grant immunity to their suits">Party</h3>
                        <div id="party-display"></div>
                        <div id="immunities-display" data-tooltip="Suits you are immune to damage from"></div>
                    </div>
                    
                    <div class="kings-panel">
                        <h3 data-tooltip="Collect all 4 Kings to win!">Collected Kings</h3>
                        <div id="kings-display"></div>
                        <div id="king-abilities" style="margin-top: 0.5rem;">
                            <button id="destroy-mode-btn" data-tooltip="Press X to toggle destroy mode. Click adjacent tiles to destroy them." style="display: none; width: 100%; padding: 0.5rem; background-color: var(--health-color); color: white; border: none; border-radius: 4px; cursor: pointer;">
                                Use King to Destroy Tile (X)
                            </button>
                        </div>
                    </div>
                </aside>
                
                <main class="game-area">
                    <!-- Mobile HUD -->
                    <div id="mobile-hud" class="mobile-hud">
                        <div id="mobile-health" class="hud-health">
                            <span class="hud-label">HP</span>
                            <span id="mobile-health-value" class="hud-value">20/20</span>
                        </div>
                        <div id="mobile-party" class="hud-party">
                            <span class="hud-label">Party</span>
                            <div id="mobile-party-suits" class="party-suits"></div>
                        </div>
                        <div id="mobile-kings" class="hud-kings">
                            <span class="hud-label">Kings</span>
                            <div id="mobile-kings-suits" class="kings-suits"></div>
                            <div id="mobile-kings-count" class="kings-count">0/4</div>
                            <button id="mobile-destroy-btn" class="hud-destroy-btn" style="display: none;">üí£ Destroy</button>
                        </div>
                        <!-- Debug display -->
                        <div id="mobile-debug" class="hud-debug">
                            <div class="debug-content" id="debug-content">Waiting for camera update...</div>
                            <div id="mobile-console" class="debug-console" style="display: none;"></div>
                        </div>
                    </div>
                    
                    <div id="game-board" class="board-container">
                        <!-- Board will be rendered here -->
                    </div>
                    
                    <!-- Mobile touch controls -->
                    <div id="mobile-controls" class="mobile-controls" title="Swipe on the board or use these buttons to move">
                        <div class="mobile-control-row">
                            <button class="mobile-btn" data-direction="north" aria-label="Move North" type="button">‚Üë</button>
                        </div>
                        <div class="mobile-control-row">
                            <button class="mobile-btn" data-direction="west" aria-label="Move West" type="button">‚Üê</button>
                            <button class="mobile-btn" data-direction="south" aria-label="Move South" type="button">‚Üì</button>
                            <button class="mobile-btn" data-direction="east" aria-label="Move East" type="button">‚Üí</button>
                        </div>
                    </div>
                    
                    <div id="damage-notification" class="notification"></div>
                    <div id="collection-notification" class="notification"></div>
                </main>
            </div>
            
            <div id="game-over" class="game-over-screen" style="display: none;">
                <h2 id="game-over-title"></h2>
                <button id="restart-btn">New Game</button>
            </div>
        </div>
    </div>
    
    <!-- Load game configuration and rules -->
    <!-- Cache-busting: auto-updated by update-cache-bust.sh script (or manually increment cb value) -->
    <script src="js/config/version.js?cb=f0eedf6"></script>
    <script src="js/config/game-rules.js?cb=f0eedf6"></script>
    <script src="js/config/assets-config.js?cb=f0eedf6"></script>
    
    <!-- Load models -->
    <script src="js/models/card.js?cb=f0eedf6"></script>
    <script src="js/models/tile.js?cb=f0eedf6"></script>
    <script src="js/models/player.js?cb=f0eedf6"></script>
    
    <!-- Load core engine -->
    <script src="js/core/deck-manager.js?cb=f0eedf6"></script>
    <script src="js/core/rules-engine.js?cb=f0eedf6"></script>
    <script src="js/core/game-engine.js?cb=f0eedf6"></script>
    
    <!-- Load renderers -->
    <script src="js/rendering/renderer-interface.js?cb=f0eedf6"></script>
    <script src="js/rendering/console-renderer.js?cb=f0eedf6"></script>
    <script src="js/rendering/dom-renderer.js?cb=f0eedf6"></script>
    
    <!-- Load help modal -->
    <script src="js/help-modal.js?cb=f0eedf6"></script>
    
    <!-- Load main game logic -->
    <script src="js/main.js?cb=f0eedf6"></script>
</body>
</html>

